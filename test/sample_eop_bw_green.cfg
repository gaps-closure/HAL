// An example configuration file for the GAPS HAL service to support
// BE EOP Green
// December, 2020

// List of HAL interfaces.
devices =
(
  {
   // xdd0: HAL-Application Link
   enabled      = 1;
   id           = "xdd0";
   path         = "./zc/zc";                  // ZCAT command
   model        = "sdh_ha_v1";                // HAL Packet format
   comms        = "ipc";                      // Unix IPC socket
   mode_in      = "sub";                      // ZMQ subscriber from APP
   mode_out     = "pub";                      // ZMQ publisher to APP
   addr_in      = "ipc:///tmp/halpubbwgreen";   // URI for ZMQ pub
   addr_out     = "ipc:///tmp/halsubbwgreen";   // URI for ZMQ sub
  },
  {
    // HAL-CDG Link
    enabled      = 1;
    id           = "xdd1";
    path         = "lo";                      // localhost for testing
    model        = "sdh_bw_v1";               // April 2020 compressed header
    comms        = "udp";                     // Emulated UDP network connetion
    addr_out     = "10.0.0.1";                // address of listener on CDG
    port_out     = 50000;                     // port of listener on CDG
    addr_in      = "10.0.0.2";                // address of listener on HAL
    port_in      = 6788;                      // port of listener on HAL
  }
)

// HAL Routing Maps
maps =
(
  {
    // B1) Green Writes position (t=1) data to Orange
    from_dev = "xdd0";
    from_mux = 1;
    from_sec = 1;
    from_typ = 1;
    to_dev   = "xdd1";
    to_mux   = 1;
    to_sec   = 1;
    to_typ   = 1;
    codec    = "NULL";
  },
  {
    // B2) Green reads position (t=1) data from Orange
    from_dev = "xdd1";
    from_mux = 2;
    from_sec = 2;
    from_typ = 1;
    to_dev   = "xdd0";
    to_mux   = 2;
    to_sec   = 2;
    to_typ   = 1;
    codec    = "NULL";
  },
  {
    // B3) Green reads distance (t=2) data from Green
    from_dev = "xdd1";
    from_mux = 2;
    from_sec = 2;
    from_typ = 2;
    to_dev   = "xdd0";
    to_mux   = 2;
    to_sec   = 2;
    to_typ   = 2;
    codec    = "NULL";
  },
  {
  // C1) Green Writes raw (t=3) data to Orange
    from_dev = "xdd0";
    from_mux = 1;
    from_sec = 1;
    from_typ = 3;
    to_dev   = "xdd1";
    to_mux   = 1;
    to_sec   = 1;
    to_typ   = 3;
    codec    = "NULL";
  },
  {
    // C2) Green reads raw (t=3) data from Orange
    from_dev = "xdd1";
    from_mux = 2;
    from_sec = 3;
    from_typ = 3;
    to_dev   = "xdd0";
    to_mux   = 2;
    to_sec   = 3;
    to_typ   = 3;
    codec    = "NULL";
  },
  {
    // D1) Green Writes big (t=0x01234567) data to Orange
    from_dev = "xdd0";
    from_mux = 1;
    from_sec = 1;
    from_typ = 19088743;
    to_dev   = "xdd1";
    to_mux   = 1;
    to_sec   = 1;
    to_typ   = 19088743;
    codec    = "NULL";
  }
)
