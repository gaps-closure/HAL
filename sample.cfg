// An example configuration file for the CLOSURE HAL service

// List of HAL interfaces (only the first 5 parameters are required - other optional parameters are set if need for that interface type)
devices = 
(
 {
   enabled      = 1;
   id           = "app1";
   path         = "./zc/zc";
   model        = "pkt_c";
   comms        = "ipc";
   addr_in      = "ipc://halsub_am";
   addr_out     = "ipc://halpub_am";
 },
 {
   enabled      = 1;
   id           = "dev1"; 
   path         = "/dev/vcom1";
   model        = "pkt_m1";
   comms        = "serial";
 },
 {
   enabled      = 0;
   id           = "dev2"; 
   path         = "/dev/vcom2"; 
   model        = "pkt_m1";
   comms        = "serial";
},
 {
   enabled      = 1;
   id           = "dev3";
   path         = "lo";
   model        = "pkt_g1";
   comms        = "tcp";
   addr_bi      = "127.0.0.1";
   port         = 6789;
 }
)

// Maps for HAL ([fromdev,frommux,fromsec,fromtyp,todev,tomux,tosec,totyp,codec])
maps =
(
 // a) Bidirectional communication between Closure APP and device (dev1)
// ["zc",   "app1", "m1", "d1", "dev1", "app1", "m1", "d1", "hal2be"],
// ["dev1", "app1", "m1", "d1", "zc",   "app1", "m1", "d1", "be2hal"],
// ["zc",   "app2", "m2", "d2", "dev1", "app2", "m2", "d2", "hal2be"],
// ["dev1", "app2", "m2", "d2", "zc",   "app2", "m2", "d2", "be2hal"]
 // b) Loopback betweeen two local Closure APPs (for testing)
  {
    from_dev = "app1";
    to_dev   = "dev1";
    from_mux = 1;
    from_sec = 2;
    from_typ = 1;
    to_mux   = 2;
    to_sec   = 3;
    to_typ   = 1;
    // from_tag = [1, 2, 1];
    // to_tag   = [2, 3, 1];
    codec    = "hal2hal";
  },
  {
    from_dev = "app1";
    to_dev   = "dev1";
    from_mux = 2;
    from_sec = 2;
    from_typ = 1;
    to_mux   = 2;
    to_sec   = 42;
    to_typ   = 1;
    codec    = "hal2hal";
  },
  {
    from_dev = "app1";
    to_dev   = "dev3";
    from_mux = 3;
    from_sec = 2;
    from_typ = 1;
    to_mux   = 3;
    to_sec   = 42;
    to_typ   = 1;
    codec    = "hal2hal";
  },
  {
    from_dev = "dev1";
    to_dev   = "app1";
    from_mux = 1;
    from_sec = 1;
    from_typ = 1;
    to_mux   = 1;
    to_sec   = 7;
    to_typ   = 1;
    codec    = "hal2hal";
  },
  {
    from_dev = "dev1";
    to_dev   = "app1";
    from_mux = 2;
    from_sec = 2;
    from_typ = 1;
    to_mux   = 2;
    to_sec   = 31;
    to_typ   = 1;
    codec    = "hal2hal";
  },
  {
    from_dev = "dev3";
    to_dev   = "app1";
    from_mux = 3;
    from_sec = 2;
    from_typ = 1;
    to_mux   = 3;
    to_sec   = 66;
    to_typ   = 1;
    codec    = "hal2hal";
  }
)
